<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>Druva AI Chat</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"
    integrity="sha384-n8MVd4RsNIU0KOOVE Mmg9ikOAiqRT5bDLA+aCJqBPSa2GwOaBktUn5NWftDfsCzA2" crossorigin="anonymous">
  <style>
    :root {
      --color-cyan-accent: #06b6d4;
      --color-bkg: #ffffff;
      --color-surface: #f8fafc;
      --color-surface-hover: #f1f5f9;
      --color-muted: #64748b;
      --color-text-primary: #0f172a;
      --color-text-secondary: #334155;
      --color-border: #e2e8f0;
    }

    .dark {
      --color-cyan-accent: #22d3ee;
      --color-bkg: #171717;
      --color-surface: #262626;
      --color-surface-hover: #373737;
      --color-muted: #94a3b8;
      --color-text-primary: #f8fafc;
      --color-text-secondary: #cbd5e1;
      --color-border: #373737;
    }

    .oled {
      --color-bkg: #000000;
      --color-surface: #111111;
      --color-surface-hover: #1f1f1f;
      --color-border: #2f2f2f;
    }

    /* Mobile viewport handling - CRITICAL FIX */
    html {
      height: 100%;
      height: 100dvh;
      /* Dynamic viewport height for mobile */
      width: 100%;
    }

    body {
      height: 100%;
      height: 100dvh;
      overflow: hidden;
      width: 100%;
      margin: 0;
      padding: 0;
    }

    #root {
      height: 100%;
      height: 100dvh;
      width: 100%;
      overflow: hidden;
    }

    /* Prevent zoom on input focus on mobile */
    @media screen and (max-width: 768px) {

      input,
      textarea,
      select {
        font-size: 16px !important;
      }
    }

    /* Hide scrollbars but keep functionality */
    * {
      scrollbar-width: none;
      /* Firefox */
      -ms-overflow-style: none;
      /* IE and Edge */
    }

    *::-webkit-scrollbar {
      display: none;
      /* Chrome, Safari, Opera */
    }

    .scrollbar-hide {
      scrollbar-width: none;
      -ms-overflow-style: none;
    }

    .scrollbar-hide::-webkit-scrollbar {
      display: none;
    }

    /* Safe area for mobile devices */
    .safe-area-bottom {
      padding-bottom: env(safe-area-inset-bottom);
    }

    /* Code block horizontal scroll for mobile - CRITICAL FIX */
    .prose pre {
      overflow-x: auto !important;
      overflow-y: hidden;
      max-width: 100vw;
      -webkit-overflow-scrolling: touch;
      white-space: pre;
    }

    /* Ensure code blocks scroll horizontally on mobile */
    pre code {
      display: block;
      white-space: pre !important;
      overflow-x: auto;
      word-wrap: normal !important;
    }

    /* Override syntax highlighter to allow horizontal scroll */
    pre[class*="language-"] {
      overflow-x: auto !important;
      white-space: pre !important;
    }

    /* Smooth animations */
    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-fadeIn {
      animation: fadeIn 0.2s ease-out;
    }

    .animate-slideUp {
      animation: slideUp 0.3s ease-out;
    }

    /* Prose styles for markdown */
    .prose {
      color: inherit;
      max-width: none;
    }

    .prose code {
      color: inherit;
    }

    /* iOS-specific fixes for keyboard */
    @supports (-webkit-touch-callout: none) {
      body {
        position: relative;
        min-height: 100vh;
        min-height: -webkit-fill-available;
      }

      html {
        height: -webkit-fill-available;
      }
    }
  </style>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            'cyan-accent': 'var(--color-cyan-accent)',
            'bkg': 'var(--color-bkg)',
            'surface': 'var(--color-surface)',
            'surface-hover': 'var(--color-surface-hover)',
            'muted': 'var(--color-muted)',
            'text-primary': 'var(--color-text-primary)',
            'text-secondary': 'var(--color-text-secondary)',
            'border-color': 'var(--color-border)'
          },
          animation: {
            'arc-pulse': 'arc-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'thinking-pulse': 'thinking-pulse 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite',
            'spin-slow': 'spin 2s linear infinite'
          },
          keyframes: {
            'arc-pulse': {
              '0%, 100%': { opacity: 1, transform: 'scale(1)' },
              '50%': { opacity: 0.7, transform: 'scale(1.1)' },
            },
            'thinking-pulse': {
              '0%': { transform: 'scale(0.8)', opacity: '0.5' },
              '50%': { transform: 'scale(1.2)', opacity: '1' },
              '100%': { transform: 'scale(0.8)', opacity: '0.5' },
            }
          },
        }
      }
    }
  </script>
  <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/"
  }
}
</script>
  <link rel="stylesheet" href="/index.css">
</head>

<body class="bg-bkg text-text-primary">
  <div id="root"></div>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"
    integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmFAILfpeV"
    crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
    integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"
    crossorigin="anonymous"></script>
  <script type="module" src="/index.tsx"></script>
</body>

</html>